# MongoDB MCP Serverλ΅ λ°μ΄ν„° μ¶”μ¶ν•΄λ³΄κΈ°

μ§€λ‚ μ‹κ°„μ— λ‹¤λ£¬ [5λ¶„λ§μ— GitHub MCP Server κµ¬μ¶•ν•΄μ„ GitHub μ‘μ—… μ‹ν‚¤κΈ°](https://data-make.tistory.com/799)μ— μ΄μ–΄ μ΄λ²μ—λ” `MongoDB MCP Server` κµ¬μ¶• λ°©λ²•μ„ μ†κ°ν•λ ¤κ³  ν•©λ‹λ‹¤.

## MongoDB MCP Server

[mongodb-mcp-server](https://github.com/mongodb-js/mongodb-mcp-server) μ„¤μ • μ—­μ‹ μ§€λ‚λ²μ— λ‹¤λ£¬ GitHub MCP Serverμ™€ μ μ‚¬ν•©λ‹λ‹¤.<br/>
λ‹¤λ¥Έ MCP μ„λ²„μ™€ λ™μΌν•κ² `mcp.json` νμΌμ—μ„ MongoDB MCP Server μ„¤μ •λ§ μ¶”κ°€ν•λ©΄ μ¤€λΉ„λ” μ™„λ£λ©λ‹λ‹¤.

**μ‹¤μ  MongoDB ν΄λ¬μ¤ν„°μ— μ—°λ™**

```json
{
    "mcp": { // MCP μ„λ²„μ μ „μ²΄ μ„¤μ •μ„ λ‹΄λ” κ°μ²΄
        "inputs": [], // μ…λ ¥ μ†μ¤(μ: νμΌ, ν΄λ” λ“±)λ¥Ό μ§€μ •ν•λ” λ°°μ—΄
        "servers": { // μ‚¬μ©ν•  MCP μ„λ²„λ“¤μ„ μ •μν•λ” κ°μ²΄
            "mongodb": { // 'mongodb'λΌλ” μ΄λ¦„μ MCP μ„λ²„ μ„¤μ •
                "command": "npx", // μ„λ²„ μ‹¤ν–‰μ— μ‚¬μ©ν•  λ…λ Ήμ–΄
                "args": [ // npxμ— μ „λ‹¬ν•  μΈμ(Arguments) λ©λ΅
                    "-y", // npx μ‹¤ν–‰ μ‹ μλ™μΌλ΅ yesλ¥Ό μ„ νƒ
                    "mongodb-mcp-server", // μ‹¤ν–‰ν•  ν¨ν‚¤μ§€ μ΄λ¦„
                    "--connectionString", // MongoDB μ—°κ²° λ¬Έμμ—΄ μµμ…
                    "mongodb+srv://<yourcluster>", // μ‹¤μ  MongoDB ν΄λ¬μ¤ν„°μ μ—°κ²° μ •λ³΄
                    "--readOnly" // μ„λ²„λ¥Ό μ½κΈ° μ „μ© λ¨λ“λ΅ μ‹¤ν–‰
                ],
            }
        }
    },
}
```

**MongoDB MCP Serverκ°€ μ‚¬μ©ν•  ν¬νΈλ¥Ό λ…μ‹ν•  μλ„ μμµλ‹λ‹¤.**

```json
"mongodb": {
    "command": "npx",
    "args": [
        "-y", 
        "mongodb-mcp-server", 
        "--connectionString", 
        "mongodb://localhost:27017",
        "--port", // MCP μ„λ²„ ν¬νΈ             
        "27018", // MCP μ„λ²„κ°€ μ‚¬μ©ν•  ν¬νΈ
        "--readOnly"
    ],
}
```

μ¶”κ°€κ°€ μ™„λ£λμ—λ‹¤λ©΄ `mcp.json` νμΌμ—μ„ Start λ²„νΌμ„ λ„λ¥΄κ±°λ‚,<br/>
`Command Palette(cmd + shift + p) > MCP: List Servers > mongodb`λ¥Ό μ„ νƒν•΄ MongoDB MCP Serverλ¥Ό μ‹¤ν–‰ν•©λ‹λ‹¤.

## Agent mode

μ΄μ  λ³Έκ²©μ μΌλ΅ MongoDB MCP Serverλ΅ μ”μ²­μ„ λ³΄λ‚΄λ³΄κ² μµλ‹λ‹¤.
- Claude 3.5 μ‚¬μ©. ~~(Claude 4λ” λ°μ΄ν„°λ¥Ό μ΅°νν•λ‹¤κ³  ν•΄λ†“κ³  λ„λ§κ°€λ²„λ¦¬λ” ν–‰λ™μ„ μμ£Ό λ³΄μ€μµλ‹λ‹¤.)~~
- Claude 3.5 λ¥Ό κ³„μ† μ‚¬μ©ν•λ‹¤λ³΄λ‹.. κ²°κ³Όλ” μ• μ£Όκ³  μ΅°νλ§ λ°λ³µν•λ” ν–‰λ™μ„ λ³΄μ—¬μ„.. λ‹¤μ‹ Claude 4 λ¥Ό μ‚¬μ©ν•κ² λμ—λ”λ° Claude 3.5 μ™€μ λ€ν™” λ‚΄μ©μ΄ ν•™μµλμ—λ”μ§€ μ΄ν›„μ—λ” λ€λ‹µμ„ μ ν•΄μ£Όμ—μµλ‹λ‹¤.

<br/>
κ°„λ‹¨ν• μ§λ¬ΈμΌλ΅ μ‹μ‘ν•΄ λ³΄κ² μµλ‹λ‹¤.
<br/>

---

π— **μ‹μ‘ μ§λ¬Έ**

```text
λ°μ΄ν„°λ² μ΄μ¤μ— μλ” μ»¬λ ‰μ… λ©λ΅μ„ λ³΄μ—¬μ¤
```

κ²°κ³Ό

```text
λ¨Όμ € λ°μ΄ν„°λ² μ΄μ¤ λ©λ΅μ„ μ΅°νν•κ² μµλ‹λ‹¤:
> mongodb (MCP Server)...

λ‹¤μμΌλ΅ κ° λ°μ΄ν„°λ² μ΄μ¤μ μ»¬λ ‰μ…μ„ μ΅°νν•κ² μµλ‹λ‹¤. λ¨Όμ € 'aaa' λ°μ΄ν„°λ² μ΄μ¤μ μ»¬λ ‰μ…μ„ ν™•μΈν•΄λ³΄κ² μµλ‹λ‹¤:
> mongodb (MCP Server)...

'bbb' λ°μ΄ν„°λ² μ΄μ¤μ μ»¬λ ‰μ…λ„ ν™•μΈν•΄λ³΄κ² μµλ‹λ‹¤:
> mongodb (MCP Server)...

λ°μ΄ν„°λ² μ΄μ¤λ³„ μ»¬λ ‰μ… λ©λ΅μ€ λ‹¤μκ³Ό κ°™μµλ‹λ‹¤:

1. aaa λ°μ΄ν„°λ² μ΄μ¤:
- abcd123
1. bbb λ°μ΄ν„°λ² μ΄μ¤:
- apple 
- banana
- cherry

λ‚λ¨Έμ§€ admin, config, localμ€ MongoDBμ μ‹μ¤ν… λ°μ΄ν„°λ² μ΄μ¤μ΄κ³ , cccλ” λΉ„μ–΄μλ” ν…μ¤νΈμ© λ°μ΄ν„°λ² μ΄μ¤λ΅ λ³΄μ…λ‹λ‹¤.

νΉμ • λ°μ΄ν„°λ² μ΄μ¤λ‚ μ»¬λ ‰μ…μ— λ€ν•΄ λ” μμ„Έν• μ •λ³΄κ°€ ν•„μ”ν•μ‹λ‹¤λ©΄ λ§μ”€ν•΄ μ£Όμ„Έμ”.
```

λ΅μ»¬ MongoDBμ— μ—°λ™ ν›„ ν…μ¤νΈν• κ²°κ³ΌμΈλ° **λ°μ΄ν„°λ² μ΄μ¤ λ©λ΅**κ³Ό **μ»¬λ ‰μ… λ©λ΅**μ„ μ •ν™•ν•κ² μ΅°νν•μ€μµλ‹λ‹¤.<br/>

ν…μ¤νΈ λ°μ΄ν„°λ² μ΄μ¤μ™€ μ—°λ™ν•μ—¬ μ”μ²­ν•΄ λ³΄μ•μ„ λ•μ—λ„ **μ»¬λ ‰μ…μ μ„±κ²©μ— λ”°λΌ μ •ν™•ν•κ² λ¶„λ¥ν•κ³  μ„¤λ…**ν•λ©°, **μ΅΄μ¬ν•μ§€ μ•λ” μ»¬λ ‰μ…μ„ ν‘μ‹**ν•κ±°λ‚ **μ΅΄μ¬ν•λ” μ»¬λ ‰μ…μ„ λ„λ½**ν•λ” κ²½μ°λ” μ—†μ—μµλ‹λ‹¤.<br/>

λ‹¤μ μ§λ¬Έλ¶€ν„°λ” λ°μ΄ν„°κ°€ μ–΄λ μ •λ„ μ“μ—¬μλ” ν…μ¤νΈ λ°μ΄ν„°λ² μ΄μ¤μ— μ—°λ™ν•΄μ„ μ”μ²­μ„ λ³΄λ‚΄λ³΄λ ¤κ³  ν•©λ‹λ‹¤.<br/>

---

1οΈβƒ£ **μ²« λ²μ§Έ μ§λ¬Έ** (κ°„λ‹¨ν• μ΅°ν)

```text
xxx_collection λ°μ΄ν„°λ¥Ό μ¶”μ¶ν•΄ μ£Όμ„Έμ”.
xxx_field κΈ°μ¤€μΌλ΅ μƒμ„ 10κ°λ§ λ³΄μ—¬μ£Όμ„Έμ”.

μ΅°κ±΄μ€ μ•„λμ™€ κ°™μµλ‹λ‹¤.
- merchant_id : ZXC1234
- created_date : 2025-06-01 μ΄ν›„
- μ¶”μ¶ λ°μ΄ν„° : merchant_id, total_amount
```

κ²°κ³Ό

```text
MongoDBμ—μ„ xxx_collection μ»¬λ ‰μ…μ—μ„ λ°μ΄ν„°λ¥Ό μ¶”μ¶ν•΄λ“λ¦¬κ² μµλ‹λ‹¤. λ¨Όμ € μ–΄λ–¤ λ°μ΄ν„°λ² μ΄μ¤μ™€ μ»¬λ ‰μ…μ΄ μλ”μ§€ ν™•μΈν•΄λ³΄κ² μµλ‹λ‹¤.
> mongodb (MCP Server)...

μ΄μ  aaa λ°μ΄ν„°λ² μ΄μ¤μ μ»¬λ ‰μ…μ„ ν™•μΈν•΄λ³΄κ² μµλ‹λ‹¤.
> mongodb (MCP Server)...

μ΄μ  xxx_collection μ»¬λ ‰μ…μ μ¤ν‚¤λ§λ¥Ό ν™•μΈν•΄λ³΄κ² μµλ‹λ‹¤.
> mongodb (MCP Server)...

μ΄μ  μ”μ²­ν•μ‹  μ΅°κ±΄μ— λ§λ” λ°μ΄ν„°λ¥Ό μ¶”μ¶ν•΄λ³΄κ² μµλ‹λ‹¤. merchant_idκ°€ "ZXC1234"μ΄κ³  created_dateμ΄ 2025-06-01 μ΄ν›„μΈ λ°μ΄ν„°μ—μ„ total_amountμ™€ merchant_idλ¥Ό κ°€μ Έμ™€μ„ total_amount κΈ°μ¤€μΌλ΅ μƒμ„ 10κ°λ¥Ό μ΅°νν•κ² μµλ‹λ‹¤.

κ²€μƒ‰ κ²°κ³Όλ¥Ό ν™•μΈν•΄λ³΄κ² μµλ‹λ‹¤. ν„μ¬ 2κ±΄μ λ°μ΄ν„°κ°€ μ΅°νλμ—μµλ‹λ‹¤. ν‘λ΅ μ •λ¦¬ν•΄λ“λ¦¬κ² μµλ‹λ‹¤:

(ν‘ μƒλµ)

μ΅°ν κ²°κ³Ό μ”μ•½:
- μ΅°κ±΄: merchant_id = "ZXC1234", created_date >= 2025-06-01
- μ΅°νλ λ μ½”λ“ μ: 2κ±΄
- μ •λ ¬: total_amount λ‚΄λ¦Όμ°¨μ
- μƒμ„ 10κ° μ”μ²­ν–μ§€λ§ μ΅°κ±΄μ— λ§λ” λ°μ΄ν„°κ°€ 2κ±΄λ§ μ΅΄μ¬ν•©λ‹λ‹¤.

λ‘ λ μ½”λ“ λ¨λ‘ total_amountκ°€ 3,000μ›μΌλ΅ λ™μΌν•λ©°, 2025λ…„ 6μ›” 12μΌμ— μƒμ„±λ λ°μ΄ν„°μ…λ‹λ‹¤.
```

κ°„λ‹¨ν• μ΅°ν μ”μ²­μ€ λ‹Ήμ—°νλ„(?) MCPκ°€ μ²λ¦¬ν•΄λ‚Ό μ μμ„ κ²ƒμ΄λΌκ³  μƒκ°ν–μµλ‹λ‹¤.<br/>
ν‘ μ •λ¦¬λ¥Ό ν¬ν•¨ν•μ—¬ μ΅°ν κ²°κ³Όλ„ μ”μ•½ν•΄ μ£Όλ” κ²ƒμ„ λ³Ό μ μμµλ‹λ‹¤.
