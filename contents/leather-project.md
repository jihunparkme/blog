# Leather-Homepage

ì‹ ì… ë°±ì—”ë“œ ê°œë°œìë¡œ ì¼í•œ ì§€ ì–´ëŠë§ 1ë…„ì´ ì§€ë‚¬ë‹¤. ğŸ‘¨â€ğŸ’»

ë¶€ì¡±í•œ ì‹¤ë ¥ì´ì§€ë§Œ ì—¬ìì¹œêµ¬ì˜ ì°½ì—… ì„ ë¬¼ë¡œ í™ˆí˜ì´ì§€ë¥¼ ë§Œë“¤ì–´ ë³´ë ¤ê³  í•œë‹¤.

(ì´ë ‡ê²Œ "ì—¬ìì¹œêµ¬ í™ˆí˜ì´ì§€ ë§Œë“¤ì–´ì£¼ê¸° í”„ë¡œì íŠ¸"ê°€ ì‹œì‘ë˜ì—ˆë‹¤ê³  í•œë‹¤. ğŸ˜)

/

í”„ë¡ íŠ¸ë‹¨ì€ ì§€ê¸ˆ ì‹¤ë ¥ìœ¼ë¡œ ìƒë‹¹í•œ ì‹œê°„ì´ ì˜ˆìƒë˜ì–´.. ì‹œê°„ ë‹¨ì¶•ì„ ìœ„í•´ Free Bootstrap Templates ì˜ í˜ì„ ë¹Œë ¸ë‹¤..

í˜„ì¬ë¡œì„œëŠ” ë°±ì—”ë“œ ìª½ ì „ë¬¸ì„±ì„ ìŒ“ëŠ” ê²Œ ìš°ì„ ì´ë‹¤ ğŸ˜¢

(ë‚˜ì¤‘ì—ëŠ” í”„ë¡ íŠ¸ ìª½ë„ ì§ì ‘ ë§Œë“¤ì–´ì¤„ê²Œ..ğŸ‘€)

/

ëˆ„êµ°ê°€ë¥¼ ìœ„í•œ, ì‹¤ì œ ì„œë¹„ìŠ¤ë¥¼ ìœ„í•œ ê°œì¸ í”„ë¡œì íŠ¸ëŠ” ì²˜ìŒì¸ ë§Œí¼ ì°¨ê·¼ì°¨ê·¼ ì˜ ì •ë¦¬í•˜ë©´ì„œ ë§Œë“¤ì–´ ë³´ê³ ì í•œë‹¤.

ìƒˆë¡­ê²Œ ì•Œê³ , ê³µë¶€í•˜ê²Œ ëœ ë‚´ìš©ì„ ìœ„ì£¼ë¡œ ì‘ì„±í•  ë“¯ì‹¶ë‹¤.

AWS ë°°í¬ ë¶€ë¶„ì€ ì´ë™ìš±ë‹˜ì˜ [ìŠ¤í”„ë§ ë¶€íŠ¸ì™€ AWSë¡œ í˜¼ì êµ¬í˜„í•˜ëŠ” ì›¹ ì„œë¹„ìŠ¤](http://www.kyobobook.co.kr/product/detailViewKor.laf?ejkGb=KOR&mallGb=KOR&barcode=9788965402602) ì±…ì„ ë§ì´ ì°¸ê³ í•˜ê²Œ ë˜ì—ˆë‹¤.

ê¸°ìˆ  ìŠ¤íƒì€ í˜„ì¬ ì‚¬ìš© ì¤‘ì¸ í˜¹ì€ ë°°ì›Œë³´ê³  ì‹¶ì€ ê¸°ìˆ ë“¤ì„ íƒí–ˆë‹¤.

- `Back-End` : Kotlin, Spring Boot, Spring MVC, Spring Security
- `Front-End` : Thymeleaf, JavaScript, jQuery, Bootstrap
- `Data` : Spring Data JPA, JPA, QueryDSL
- `Test` : Mockito, Spock
- `DevOps` : MySQL, Jenkins, Nginx, AWS-EC2

/

ê°œë°œì— í•„ìš”í•œ ì„œë¹„ìŠ¤, ê¸°ìˆ ë“¤ì€ ë³€ê²½ë  ìˆ˜ ìˆì§€ë§Œ, ì´ˆê¸° ì„¤ì •ì„ í¬ê²Œ ë³´ë©´ ì•„ë˜ì™€ ê°™ë‹¤.

ì‡¼í•‘ëª°ì´ ì•„ë‹Œ ë‹¨ìˆœ í™ˆí˜ì´ì§€ë¼ì„œ íšŒì› ê´€ë¦¬ëŠ” ì‚¬ì‹¤ ë¶ˆí•„ìš”í•˜ì§€ë§Œ, ê³µë¶€ ê²¸ êµ¬í˜„ì„ í•´ë³´ë ¤ê³  í•œë‹¤.

ê°œë°œí•˜ë©´ì„œ í•„ìš”í•œ ê¸°ëŠ¥ë“¤ì„ ê³„ì†í•´ì„œ ì¶”ê°€í•´ ë‚˜ì•„ê°ˆ ì˜ˆì •ì´ë‹¤.

- íšŒì›ê´€ë¦¬
- ìƒí’ˆê´€ë¦¬
- ê³µì§€ê´€ë¦¬
- í›„ê¸°ê´€ë¦¬
- ë¬¸ì˜í•˜ê¸°
- About
- ê¸°íƒ€
  - [MySQL ë°ì´í„° ë°±ì—…](https://server-talk.tistory.com/30)
  - ëŒ“ê¸€, í›„ê¸°, ë¬¸ì˜í•˜ê¸° ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ ê´€ë¦¬ìì—ê²Œ ìë™ ë©”ì¼ ë°œì†¡

## build.gradle

í”„ë¡œì íŠ¸ ì„¤ì • ë¶€ë¶„ì€ í•­ìƒ ì‘ì„±í•˜ë¼ëŠ” ëŒ€ë¡œë§Œ ì‘ì„±í•˜ê³  ë¬´ì‹¬ì½” ì§€ë‚˜ê°”ì—ˆëŠ”ë°, ì´ë²ˆ ê¸°íšŒì— ì‚´í´ë³´ê²Œ ë˜ì–´ ë‹¤í–‰ì´ë‹¤.

**Kotlin Spring**

- aka. Kotlin dsl

```gradle
import org.jetbrains.kotlin.gradle.tasks.KotlinCompile

plugins {
	val kotlinVersion = "1.5.10"
	id("org.springframework.boot") version "2.6.2"
	id("io.spring.dependency-management") version "1.0.11.RELEASE" //> spring boot ì˜ì¡´ì„± ê´€ë¦¬ í”ŒëŸ¬ê·¸ì¸
	kotlin("jvm") version kotlinVersion //> jvm(bytecode)ìœ¼ë¡œ ì»´íŒŒì¼
	kotlin("plugin.spring") version kotlinVersion //> í´ë˜ìŠ¤ë¥¼ openìœ¼ë¡œ ê¸°ë³¸ ì„¤ì •
	kotlin("plugin.jpa") version kotlinVersion
}

group = "com"
version = "0.0.1-SNAPSHOT"
java.sourceCompatibility = JavaVersion.VERSION_11

repositories {
	mavenCentral()
}

dependencies {
	implementation("org.springframework.boot:spring-boot-starter-thymeleaf")
	implementation("org.springframework.boot:spring-boot-starter-data-jpa")
	implementation("org.springframework.boot:spring-boot-starter-web")
	implementation("com.fasterxml.jackson.module:jackson-module-kotlin") //> ë§¤ê°œë³€ìˆ˜ê°€ ì—†ëŠ” ìƒì„±ìê°€ ì—†ë”ë¼ë„ ì§ë ¬í™”ì™€ ì—­ì§ë ¬í™”ë¥¼ ì§€ì›
	implementation("org.jetbrains.kotlin:kotlin-reflect")
	implementation("org.jetbrains.kotlin:kotlin-stdlib-jdk8") //> ì½”í‹€ë¦° í•„ìˆ˜ ê¸°ëŠ¥ ì œê³µ
	testImplementation("org.springframework.boot:spring-boot-starter-test")
}

allOpen{ //ì§€ì—°ë¡œë”©ì„ ìœ„í•´ ì¶”ê°€ (kotlin final class ì™€ ê´€ë ¨)
	annotation("javax.persistence.Entity")
	annotation("javax.persistence.MappedSuperclass")
	annotation("javax.persistence.Embeddable")
}

tasks.withType<KotlinCompile> {
	kotlinOptions {
		freeCompilerArgs = listOf("-Xjsr305=strict")
		jvmTarget = "11"
	}
}

tasks.withType<Test> {
	useJUnitPlatform()
}

```

`kotlin("plugin.spring")`

- ì½”í‹€ë¦°ì˜ í´ë˜ìŠ¤ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ final ì´ë¯€ë¡œ ìƒì†ì´ ë¶ˆê°€ëŠ¥
- í•˜ì§€ë§Œ, Spring AOP ëŠ” cglib ë¥¼ ì‚¬ìš©í•  ë•Œ ìƒì†ì„ í†µí•´ proxy íŒ¨í„´ì„ ì‚¬ìš©
- í•´ë‹¹ í”ŒëŸ¬ê·¸ì¸ì„ í†µí•´ í´ë˜ìŠ¤ë¥¼ open ìœ¼ë¡œ ê¸°ë³¸ ì„¤ì •

**Java Spring**

```gradle
plugins { //> ê¸°ì¡´ gradle buildscript, apply plugin ì„ ê°„í¸í™”
	id 'org.springframework.boot' version '2.6.2'
	id 'io.spring.dependency-management' version '1.0.11.RELEASE' //> spring boot ì˜ì¡´ì„± ê´€ë¦¬ í”ŒëŸ¬ê·¸ì¸
	id 'java'
	id 'eclipse'
	id 'com.example.hello' version '1.2.3' apply false //> ì¼ë¶€ ì„œë¸Œ í”„ë¡œì íŠ¸ì—ë§Œ ì ìš© ì‹œ
}

//> ì„œë¸Œ í”„ë¡œì íŠ¸ì—ë§Œ ì ìš©
subprojects {
	if (name.startsWith("hello")) {
		apply("com.example.hello")
	}
}

group = 'com.hello'
version = '0.0.1-SNAPSHOT-'+new Date().format("yyyyMMddHHmmss")
sourceCompatibility = '11'

configurations {
	compileOnly {
		extendsFrom annotationProcessor
	}
}

//> ì›ê²© ì˜ì¡´ì„±(library) ì €ì¥ì†Œ
repositories {
	mavenCentral()
	jcenter()
}

//> ì˜ì¡´ì„± ì„ ì–¸ (group:name:)
dependencies {
	implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'
	implementation 'org.springframework.boot:spring-boot-starter-web'
	compileOnly 'org.projectlombok:lombok'
	annotationProcessor 'org.projectlombok:lombok'
	testImplementation 'org.springframework.boot:spring-boot-starter-test'
}

test {
	useJUnitPlatform() //> ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ í”Œë«í¼ ì œê³µ
}

```

**dependencies**

- `implementation` : ì˜ì¡´ ë¼ì´ë¸ŒëŸ¬ë¦¬ ìˆ˜ì • ì‹œ í•´ë‹¹ ëª¨ë“ˆê¹Œì§€ë§Œ ì¬ë¹Œë“œ
  - ì¢…ì†ëœ í•˜ìœ„ ëª¨ë“ˆì„ íŒ¨í‚¤ì§€ì— í¬í•¨í•˜ì§€ ì•ŠìŒ. (ex. spring-boot-starter-web)
- `api` : ì˜ì¡´ ë¼ì´ë¸ŒëŸ¬ë¦¬ ìˆ˜ì • ì‹œ ì—°ê´€ëœ ëª¨ë“  ëª¨ë“ˆ ì¬ë¹Œë“œ
  - ì¢…ì†ëœ í•˜ìœ„ ëª¨ë“ˆì„ ëª¨ë‘ íŒ¨í‚¤ì§€ì— í¬í•¨
- `testImplementation` : í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì»´íŒŒì¼í•˜ê³  ì‹¤í–‰í•˜ëŠ” ë° í•„ìš”í•œ ì¢…ì†ì„± (ex. spring-boot-starter-test)
- `compileOnly` : ì»´íŒŒì¼ ë‹¨ê³„ì—ì„œë§Œ í•„ìš”í•œ ì¢…ì†ì„±
  - ì»´íŒŒì¼ ì‹œì—ë§Œ ë¹Œë“œí•˜ê³  ê²°ê³¼ë¬¼ì—ëŠ” í¬í•¨í•˜ì§€ ì•ŠìŒ (ex. lombok)
- `runtimeOnly` : ëŸ°íƒ€ì„ ë‹¨ê³„ì—ì„œë§Œ í•„ìš”í•œ ì¢…ì†ì„± (ex. h2)
- `annotationProcessor` : annotation ì´ ì„ ì–¸ëœ í´ë˜ìŠ¤ì˜ ê²½ìš° annotationProcessor ì²˜ë¦¬ê°€ í•„ìš”í•œ ì¢…ì†ì„± (ex. lombok)

> [Kotlin Gradle](https://kotlinlang.org/docs/gradle.html#targeting-the-jvm)
>
> [The Java Library Plugin](https://docs.gradle.org/current/userguide/java_library_plugin.html#sec:java_library_configurations_graph)

> [[kotlin + Spring] ì½”í‹€ë¦° í™˜ê²½ì—ì„œ Spring Boot ì‚¬ìš©í•˜ê¸°](https://sabarada.tistory.com/180)

## Test Code

```java
@RunWith(SpringRunner.class)
@WebMvcTest(controllers = HelloController.class,
        excludeFilters = {
        @ComponentScan.Filter(type = FilterType.ASSIGNABLE_TYPE, classes = SecurityConfig.class)
        }
)
public class HelloControllerTest {

    @Autowired
    private MockMvc mvc;

    @WithMockUser(roles="USER")
    @Test
    public void helloê°€_ë¦¬í„´ëœë‹¤() throws Exception {
        String hello = "hello";

        mvc.perform(get("/hello"))
                .andExpect(status().isOk())
                .andExpect(content().string(hello));
    }

	@WithMockUser(roles="USER")
    @Test
    public void helloDtoê°€_ë¦¬í„´ëœë‹¤() throws Exception {
        String name = "hello";
        int amount = 1000;

        mvc.perform(
                    get("/hello/dto")
                            .param("name", name)
                            .param("amount", String.valueOf(amount)))
                .andExpect(status().isOk())
                .andExpect(jsonPath("$.name", is(name)))
                .andExpect(jsonPath("$.amount", is(amount)));
    }
}
```

- `@RunWith(SpringRunner.class)` : ìŠ¤í”„ë§ ì‹¤í–‰ì(SpringRunner)ë¥¼ ì‹¤í–‰
  - SpringBootTest ì™€ Junit ì‚¬ì´ì˜ ì—°ê²°ì ì—­í• 
- `@WebMvcTest` : Spring MVC ì— ì§‘ì¤‘í•  ìˆ˜ ìˆëŠ” ì–´ë…¸í…Œì´ì…˜
  - @Controller, @ControllerAdvice ë“±ì„ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ, @Service, @Component, @Repository ë“±ì€ ì‚¬ìš©í•  ìˆ˜ ì—†ìŒ
- `@Autowired` : Spring ì´ ê´€ë¦¬í•˜ëŠ” Bean ì£¼ì…
- `private MockMvc mvc` Web API í…ŒìŠ¤íŠ¸ ì‹œ ì‚¬ìš©
- `.param` : ìš”ì²­ íŒŒë¼ë¯¸í„°
- `jsonPath` : JSON ì‘ë‹µê°’ì„ í•„ë“œë³„ë¡œ ê²€ì¦ ($ ê¸°ì¤€ìœ¼ë¡œ í•„ë“œëª… ëª…ì‹œ)

## Controller

`Bean ì£¼ì… ì‹œ ìƒì„±ìë¡œ ì£¼ì…ë°›ì.`

- @RequiredArgsConstructor
- í´ë˜ìŠ¤ì˜ ì˜ì¡´ì„± ê´€ê³„ê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ìƒì„±ìë¥¼ ìˆ˜ì •í•´ì•¼í•˜ëŠ” ë²ˆê±°ë¡œì›€ì„ í•´ê²°

## Entity & Dto

`Entity í´ë˜ìŠ¤ì™€ Controller ì—ì„œ ì‚¬ìš©í•  Dto ëŠ” ë¶„ë¦¬í•´ì„œ ì‚¬ìš©í•˜ì.`

- Entity í´ë˜ìŠ¤ëŠ” DBì™€ ë§ë‹¿ì€ í•µì‹¬ í´ë˜ìŠ¤ì´ê³  ìˆ˜ë§ì€ ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ë‚˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ë“¤ì— ì‚¬ìš©ë˜ë¯€ë¡œ ì¦ì€ ë³€ê²½ì´ ì¼ì–´ë‚˜ì§€ ì•Šë„ë¡ í•˜ì.
