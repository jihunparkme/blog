# Bad Smells in Code

## DUPLICATED CODE

중복 코드 (완전 동일한 소스 뿐 아니라 중복된 구조 포함)

- 동일 클래스의 두 메소드 이상이 동일한 로직을 보면 `Extract Method` 수행
- 형제 서브클래스들에서 중복이 있는 경우 `Extract Method` → `Pull Up Method`
- 코드가 유사하지만 완전히 동일하지 않다면
  - `Extract Method`로 동일한 부분과 다른 부분을 분리 → `Form Template Method` 적용 여부 결정
- 메소드가 서로 다른 알고리즘으로 동일한 일을 한다면 둘 중 더 명확한 알고리즘을 선택하고 `Substitute Algorithm` 사용
- 서로 무관한 클래스들에서 중복 코드가 존재하는 경우
  - `Extract Class`로 중복된 코드 추출 → 다른 클래스에서 새로 추출된 클래스를 사용하도록 수정

## LONG METHOD

가장 좋고, 오래 사용되는 객체지향 프로그램은 좋은 이름이 부여된 작은 메소드들로 이뤄진 프로그램 (메소드 바디를 살펴볼 필요가 없어짐) 

- 커멘트를 작성하고 싶을 때마다 메소드 작성하기 (코드의 의도를 표현하는 이름으로)
- `Extract Method`로 메서드를 작게 만들 수 있지만, 파라미터와 임시 변수 때문에 너무 많은 파라미터를 갖는 메서드들이 추출되어 더 읽기 어려워질 수 있음
  - `Replace Temp with Query`를 통해 임시 변수 제거
  - `Introduce Parameter Object`, `Preserve Whole Object`를 통해 파라미터 갯수 줄이기
  - 그래도 많다면 `Replace Method with Method Object` 수행

## LARGE CLASS

클래스가 너무 많을 일을 할 때 너무 많은 인스턴스 변수를 갖는다 (코드 중복 존재)

- `Extract Class`를 통해 일련의 변수들 묶기
- 클래스가 **자신의 모든 인스턴스 변수를 사용하지 않는(응집도가 낮은) 경우**와 **클래스가 너무 많은 코드를 갖을 경우** → `Extract Class`, `Extract Subclass`
- 클라이언트들이 클래스를 어떻게 사용하는지 현황을 보고 경우에 맞게 `Extract Interface`를 적용하는 것도 유용
- 데이터와 행위를 별도의 도메인 객체로 옮길 경우 → `Duplicate Observed Data`

## LONG PARAMETER LIST

- 필요한 정보를 다른 객체에게 요청해서 얻기 `Replace Parameter with Method`
  - 파라미터를 이미 알고 있는 객체(필드 OR 파라미터)를 호출하여 얻을 수 있는 경우
- `Preserve Whole Object`
  - 객체에서 수집한 일련의 데이터를 객체 자체로 교체
- `Introduce Parameter Object`
  - 로직을 갖는 객체 없이 일련의 데이터만 있는 경우 파라미터 객체를 도출
- 예외 상황
  - 파라미터(객체)를 사용하는 객체에서 파라미터 객체에 대해 의존성을 가지고 있는 경우
  - 이런 경우 파라미터로 전달하는 것이 합리적이지만 파라미터가 너무 많거나 너무 자주 변경된다면 의존성 구조에 대해서 다시 생각이 필요

## DIVERGENT CHANGE

- 하나의 클래스가 여러 다른 이유에 의해 변경될 때 발생
- 변경을 처리하기 위해서는 항상 하나의 클래스만 변경해야 한다 `SRP`
- 특별한 상황에 함께 변경되는 모든 코드들 식별하고 `Extract Class`해서 함께 위치시키기

## SHOTGUN SURGERY

## FEATURE ENVY

## DATA CLUMPS

## PRIMITIVE OBSESSION

## SWITCH STATEMENTS

## PARALLEL INHERITANCE HIERARCHIES

## LAZY CLASS

## SPECULATIVE GENERALITY

## TEMPORARY FIELD

## MESSAGE CHAINS

## MIDDLE MAN

## INAPPROPRIATE INTIMACY

## ALTERNATIVE CLASSES WITH DIFFERENT INTERFACES

## INCOMPLETE LIBRARY CLASS

## DATA CLASS
 
## REFUSED BEQUEST

## COMMENTS

19:46

## Reference 

> [Ch03. Bad Smells in Code](https://www.evernote.com/shard/s3/client/snv?noteGuid=afa69de1-bc7c-434d-b005-d83a541a11e7&noteKey=1cb200c00741a0b9&sn=https%3A%2F%2Fwww.evernote.com%2Fshard%2Fs3%2Fsh%2Fafa69de1-bc7c-434d-b005-d83a541a11e7%2F1cb200c00741a0b9&title=Ch03.%2BBad%2BSmells%2Bin%2BCode)
>
> [Ch03-1. Refactoring Techniques](https://www.evernote.com/shard/s3/client/snv?noteGuid=3e1eb744-0f54-464b-9ed8-408ff7e3d5f3&noteKey=e43ee0150ed60332&sn=https%3A%2F%2Fwww.evernote.com%2Fshard%2Fs3%2Fsh%2F3e1eb744-0f54-464b-9ed8-408ff7e3d5f3%2Fe43ee0150ed60332&title=Ch03-1.%2BRefactoring%2BTechniques)