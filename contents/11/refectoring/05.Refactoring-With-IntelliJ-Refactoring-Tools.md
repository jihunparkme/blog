# Refactoring With IntelliJ Refactoring Tools

## [Change Signature](https://www.jetbrains.com/help/idea/change-signature.html)

- 클래스의 생성자에 parameter 추가

## [Convert Anonymous to Inner Class](https://www.jetbrains.com/help/idea/convert-anonymous-to-inner.html)

- 익명 클래스를 내부 클래스로 변환
- New 또는 생성자에 커서를 위치시키고 리팩토링

**Before**

```java
public class Class {
    public Interface method() {
        final int i = 0;
        return new Interface() {
            public int publicMethod() {
            return i;}
        };
    }
}
```

**After**

```java
public class Class {
    public Interface method() {
        final int i = 0;
        return new MyInterfaceClass(i);
    }
}
public class MyInterfaceClass implements Interface {
    private final int
               i;
    public MyInterfaceClass(int i) {
        this.i = i;
    }
    public int publicMethod() {
        return
               i;
    }
}
```

## [Convert to Instance Method](https://www.jetbrains.com/help/idea/convert-to-instance-method.html)

- static 메서드를 인스턴스 메서드로 변환
- 메소드명에 커서를 위치시키고 리팩토링

**Before**

```java
public class MyClass {
     ClassA classA = new ClassA();
     ClassB classB = new ClassB();

     static public void greatMethod(ClassA classA, ClassB classB){
         System.out.println("classA = " + classA);
         System.out.println("classB = " + classB);
     }
     public void myMethod(){
         MyClass.greatMethod(classA, classB);
     }
}
```

**After**

```java
public class MyClass {
    ClassA classA = new ClassA();
    ClassB classB = new ClassB();

    public void myMethod(){
        classB.greatMethod(classA);
    }
}

public class ClassB {
    public void greatMethod(ClassA classA) {
        System.out.println("classA = " + classA);
        System.out.println("classB = " + this);
    }
}
```

**[Encapsulate Fields](https://www.jetbrains.com/help/idea/encapsulate-fields.html)**

- public 필드를 private로 캡슐화 및 getter/setter 생성
- 필드명에 커서를 위치시키고 리팩토링

**[Introduce Constants](https://www.jetbrains.com/help/idea/extract-constant.html#d50ea7e5)**

- 변수를 private static final 로
- 변수에 커서를 위치시키고 리팩토링

**[Introduce Variable](https://www.jetbrains.com/help/idea/extract-variable.html#d57e1dd)**

- 중복 변수를 필드로
- 변수 선택 후 리팩토링

**[Extract Interface](https://www.jetbrains.com/help/idea/extract-interface.html)**

- 인터페이스 추출

**[Extract Method](https://www.jetbrains.com/help/idea/extract-method.html)**

- 메서드 추출

**[Extract Super Class](https://www.jetbrains.com/help/idea/extract-superclass.html)**

- 슈퍼 클래스로 추출

**[Extract Parameter](https://www.jetbrains.com/help/idea/extract-parameter.html)**

- 변수를 파라미터로 추출

**[Extract Delegate](https://www.jetbrains.com/help/idea/extract-into-class-refactorings.html#extract_delegate)**

- 위임 클래스로 추출
- Before 
  
```java
public class Foo {
    private String b;
    public String getInfo() {
        return ("(" + b + ")");
    }
...
}

public class Bar {
    Foo foo;
    String t2 = foo.getInfo();
...
}
```

- After

```java
public class Foo {
    private final Info info = new Info();
    public String getInfo() {
        return info.getInfo();
    }
...
}

public class Info {
    private String b;
    public Info() {}
    public String getInfo() {
        return ("(" + b + ")");
    }
}

public class Bar {
    Foo foo;
    String t2 = foo.getInfo();
...
}
```

**Replace Method with Method Object**

- ㅁ

**Replace Conditional Logic with Strategy Pattern**

- ㅁ

**Generify**

- ㅁ

**Inline Constructor**

- ㅁ

**Inline Superclass**

- ㅁ

**Inline To Anonymous Class**

- ㅁ

**Invert Boolean**

- ㅁ

**Make Static**

- ㅁ

**Migrate**

- ㅁ

**Copy Class**

- ㅁ

**Move Method**

- ㅁ

**Pull Members Up**

- ㅁ

**Remove Middleman**

- ㅁ

**Replace Constructor with Builder**

- ㅁ

**Replace Constructor with Factory Method**

- ㅁ

**Replace Inheritance with Delegation**

- ㅁ

**Replace Temp with Query**

- ㅁ

**Type Migration**

- ㅁ

**Wrap Return Value**

- ㅁ


## Reference

> [IntelliJ IDE Code refactoring](https://www.jetbrains.com/help/idea/refactoring-source-code.html)
> 
> [Refactoring With IntelliJ Refactoring Tools](https://www.evernote.com/shard/s3/client/snv?noteGuid=8ebff5c0-c23b-43d5-be05-a50e9b5507de&noteKey=d3d00c768e61c5e2&sn=https://www.evernote.com/shard/s3/sh/8ebff5c0-c23b-43d5-be05-a50e9b5507de/d3d00c768e61c5e2&title=Refactoring%2BWith%2BIntelliJ%2BRefactoring%2BTools)
> 
> [refactoring-tools](https://github.com/msbaek/refactoring-tools)