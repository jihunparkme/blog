# Refactoring, a First Example

## Refactoring

**리팩터링(refactoring)은 코드의 외부 동작을 변경하지 않고, 내부 구조를 개선하는 방식으로 소프트웨어 시스템을 변경하는 과정**

- SW의 Secondary Value(`behavior`, 20%)를 지키면서 Primary Value(`Structure`, 80%)를 개선하는 것
- 버그 발생을 최소화하도록 코드를 깨끗하게 하는 방법
- 리팩토링의 본질은 기존 코드의 설계를 향상시키는 것
  - 리팩토링 <-> 사전설계 방식
- 리팩터링은 별도의 일정을 잡는 것이 아니라, 설계/개발에 포함된 것이다.
- 컴파일러는 코드가 깨끗한지 더러운지 신경쓰지 않지만, 시스템을 변경할 때는 사람이 개입하게 되며, 설계가 잘못된 시스템은 변경하기 어렵다.
- 
## Example

`단일 책임 원칙`(Single Responsibility Principle, SRP)

- 클래스는 단 한 개의 책임을 가져야 한다.

`개방 폐쇄 원칙`(Open Closed Principle, OCP)

- 소프트웨어 개체(클래스, 모듈, 함수 등등)는 확장에 대해 열려 있어야 하고, 수정에 대해서는 닫혀 있어야 한다

`응집도` : 모듈이 하나의 목적을 수행하는 요소들간의 연관성 (모듈 내부의 기능적인 응집 정도)

- 응집도가 높으면, 변경 대상과 범위가 명확해지는 장점이 있어서 코드를 수정하기 쉬워짐
  
`결합도` : 모듈이 다른 모듈에 의존하는 정도 (모듈과 모듈간의 상호 결합 정도)

- 결합도는 낮을수록 검토해야되는 소스의 수가 적어져서 코드를 수정하기가 쉬워짐
  
> 프로그램에 기능을 추가해야 할 때, 코드가 기능을 추가하기에 편리한 방식으로 구성되어 있지 않다면, 먼저 기능을 추가하기 쉽도록 프로그램을 리팩터링한 다음 기능을 추가하자.








Reference

> [Ch01. Refactoring, a First Example]((https://www.evernote.com/shard/s3/client/snv?noteGuid=cb11ff72-c810-4dd0-bb11-f6d9cea0c2f8&noteKey=c83413802dbd5346&sn=https%3A%2F%2Fwww.evernote.com%2Fshard%2Fs3%2Fsh%2Fcb11ff72-c810-4dd0-bb11-f6d9cea0c2f8%2Fc83413802dbd5346&title=Ch01.%2BRefactoring%252C%2Ba%2BFirst%2BExample))