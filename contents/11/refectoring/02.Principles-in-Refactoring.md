# Principles in Refactoring

## DEFINING REFACTORING

- 명사형 정의
  - 소프트웨어의 겉보기 동작은 그대로 유지한 채, **코드를 이해하고 수정하기 쉽도록 내부 구조를 변경하는 기법**
- 동사형 정의
  - 소프트웨어의 겉보기 동작은 그대로 유지한 채, **여러 가지 리팩터링 기법을 적용해서 소프트웨어를 재구성**하다.

### Two Hats

**기능 추가**

- 기존의 코드를 변경하지 않음
- 새로운 기능을 추가함
- 테스트를 추가하고 테스트가 동작하도록 함으로써 진척을 측정

**리팩토링**

- 새로운 기능을 추가하지 않음
- 코드의 구조만 변경함
- 테스트를 추가하지 않고(누락된 테스트가 없다면) 테스트를 변경만 함

## WHY SHOULD YOU REFACTOR?

**소프트웨어 설계 개선시켜준다.**

- 리팩토링을 안 한다면.. 프로그램의 설계는 부패되어 간다.
- 설계 개선의 중요한 점은 중복 코드 제거

**코드를 더 쉽게 이해할 수 있게 만들어준다.**

- 개발자가 코드를 이해했다면 한 시간만에 수정할 수 있는 작업인데, 이해가 어려워 일주일을 소요한다면 중요한 문제가 된다.

**버그 발견할 수 있도록 도와준다.**

- 좋은 습관을 가진 좋은 프로그래머가 되자.

**프로그램이 빨라지도록 도와준다.**

- 설계 개선, 가독성 개선, 버그 감소 등의 모든 품질 개선

## WHEN SHOULD YOU REFACTOR?

**세번째로 비슷한 일을 할 때**

**새로운 기능을 추가할 때**
  - 수정하려는 코드에 대한 이해를 돕고, 쉽게 추가할 수 있게 도와줌.

**버그를 수정할 때**
  - 버그 리포트를 받으면 리팩토링이 필요하다는 신호(버그가 보일 만큼 코드가 충분히 명확하지 않다는 의미)

**코드 리뷰를 할 때**
  - 코드 리뷰가 보다 구체적인 결과를 얻는데 도움

**프로그램을 다루기 어렵게 만드는 4가지 이유**

- 중복된 로직이 있고, 읽기 어렵고, 수정하기 어려움.
- 원하는 수정을 하려면 실행중인 코드를 변경해야만 하는 추가적인 행위를 요구하는 프로그램
- 수정하기 어려운 복잡한 조건 로직을 가지고 있는 프로그램
  
> 리팩토링은 동작하는 코드의 행위를 변경하는 것이 아니라 빠르게 개발할 수 있도록 가치를 추가하는 절차

## When Shouldn’t You Refactor?

**리팩토링 대신 처음부터 다시 개발하는 것이 나은 경우**

**재작성이 필요한 명확한 경우**

**개발 마감일에 가까워 졌을 경우**

## Reference

> [Ch02. Principles in Refactoring](https://www.evernote.com/shard/s3/client/snv?noteGuid=f7814b14-dcf2-46f7-94db-6271ff1d642a&noteKey=250003773edcc6b5&sn=https%3A%2F%2Fwww.evernote.com%2Fshard%2Fs3%2Fsh%2Ff7814b14-dcf2-46f7-94db-6271ff1d642a%2F250003773edcc6b5&title=Ch02.%2BPrinciples%2Bin%2BRefactoring)
